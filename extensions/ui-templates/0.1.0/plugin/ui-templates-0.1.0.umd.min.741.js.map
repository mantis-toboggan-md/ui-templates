{"version":3,"file":"ui-templates-0.1.0.umd.min.741.js","mappings":"wPAGIA,EAA0B,IAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,gGAAiG,KAE1I,c,wBCJA,IAAIC,EAAU,EAAQ,OACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,kBAAZF,IAAsBA,EAAU,CAAC,CAACF,EAAOC,GAAIC,EAAS,MAC7DA,EAAQG,SAAQL,EAAOM,QAAUJ,EAAQG,QAE5C,IAAIE,EAAM,WACGA,EAAI,WAAYL,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,G,+GC0DxEM,MAAM,oB,6EADAC,EAAAC,yB,kBADRC,EAAAA,EAAAA,oBAUM,MAVNC,EAUM,EANJC,EAAAA,EAAAA,aAKcC,EAAA,CAJZN,MAAM,qBACLO,GAAIN,EAAAO,yB,uBACN,IAEDC,EAAA,KAAAA,EAAA,K,qBAFC,0BAED,M,yDAzEJ,OACEC,KAAM,0BAEN,WAAMC,GACJ,MAAMC,EAAkBC,KAAKC,QAAQC,QAAQC,SAA0C,MAA/BH,KAAKC,OAAOC,OAAOC,QAE3EH,KAAKI,WAAaL,EAAkB,UAAY,aAEhD,IACE,MAAMM,QAA0BL,KAAKM,OAAOC,SAAS,GAAIP,KAAKI,kBAAoB,CAAEI,KAAM,SAAU5B,GAAIoB,KAAKS,cAE7GT,KAAKU,UAAYL,GAAmBM,kBAAkBC,KAAMC,GAA0B,SAApBA,EAAEC,cACtE,CAAE,MAAO,CAET,GAAId,KAAKU,UAAW,CAClB,IAAIK,EAEJ,IACEA,QAAuBf,KAAKM,OAAOC,SAAS,GAAIP,KAAKI,kBAAoB,CAAEI,KAAM,SAAU5B,GAAI,wBACjG,CAAE,MAAO,CACLmC,IACFf,KAAKgB,gBAAkBhB,KAAKM,OAAOC,SAAS,GAAIP,KAAKI,qBAAuB,CAAEI,KAAM,yBAExF,CACF,EAEAS,IAAAA,GACE,MAAO,CACLP,WAAW,EAAON,WAAY,GAAIY,UAAW,GAEjD,EAEAE,SAAU,CACRT,WAAAA,GACE,OAAOT,KAAKC,QAAQC,QAAQiB,QAC9B,EAEAC,YAAAA,GACE,QAAKpB,KAAKS,gBAIAT,KAAKgB,WAAa,IAAIJ,KAAMS,IAAOA,EAAEC,aAAe,IAAIC,SAASvB,KAAKS,aAClF,EAEAd,uBAAAA,GACE,MAAME,EAAO,GAAIG,KAAKC,OAAOJ,gBACvB2B,EAAO,GAAIxB,KAAKC,OAAOuB,gBACvBC,EAAW,GAAIzB,KAAKC,OAAOwB,oBAEjC,MAAO,IACFzB,KAAKC,OAAQJ,OAAM2B,OAAMC,WAEhC,EAEApC,sBAAAA,GACE,OAAOW,KAAKoB,cAAgBpB,KAAKU,SACnC,I,sBCnDJ,MAAMgB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://ui-templates-0.1.0/./components/MaybeCreateButton.vue?c8ff","webpack://ui-templates-0.1.0/./components/MaybeCreateButton.vue?4eae","webpack://ui-templates-0.1.0/./components/MaybeCreateButton.vue","webpack://ui-templates-0.1.0/./components/MaybeCreateButton.vue?7bcb"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".button-container{display:flex;justify-content:flex-end;position:relative;margin-bottom:20px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./MaybeCreateButton.vue?vue&type=style&index=0&id=43c89fdb&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5b2b7b6d\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","<script>\nexport default {\n  name: 'MaybeCreateFromTemplate',\n\n  async fetch() {\n    const isClusterScoped = this.$route?.params?.cluster && this.$route.params.cluster !== '_';\n\n    this.steveStore = isClusterScoped ? 'cluster' : 'management';\n\n    try {\n      const currentTypeSchema = await this.$store.dispatch(`${ this.steveStore }/find`, { type: 'schema', id: this.currentType });\n\n      this.canCreate = currentTypeSchema?.collectionMethods.find((x) => x.toLowerCase() === 'post');\n    } catch {}\n\n    if (this.canCreate) {\n      let templateSchema;\n\n      try {\n        templateSchema = await this.$store.dispatch(`${ this.steveStore }/find`, { type: 'schema', id: 'toboggan.md.template' });\n      } catch {}\n      if (templateSchema) {\n        this.templates = await this.$store.dispatch(`${ this.steveStore }/findAll`, { type: 'toboggan.md.template' });\n      }\n    }\n  },\n\n  data() {\n    return {\n      canCreate: false, steveStore: '', templates: []\n    };\n  },\n\n  computed: {\n    currentType() {\n      return this.$route?.params?.resource;\n    },\n\n    hasTemplates() {\n      if (!this.currentType) {\n        return false;\n      }\n\n      return !!(this.templates || []).find((t) => (t.targetTypes || []).includes(this.currentType));\n    },\n\n    createFromTemplateRoute() {\n      const name = `${ this.$route.name }-template`;\n      const path = `${ this.$route.path }/template`;\n      const fullPath = `${ this.$route.fullPath }/template`;\n\n      return {\n        ...this.$route, name, path, fullPath\n      };\n    },\n\n    showCreateFromTemplate() {\n      return this.hasTemplates && this.canCreate;\n    }\n  },\n\n};\n</script>\n\n<template>\n  <div\n    v-if=\"showCreateFromTemplate\"\n    class=\"button-container\"\n  >\n    <router-link\n      class=\"btn role-secondary\"\n      :to=\"createFromTemplateRoute\"\n    >\n      Create from Template\n    </router-link>\n  </div>\n</template>\n\n<style>\n.button-container{\n    display: flex;\n    justify-content: flex-end;\n    position: relative;\n    margin-bottom: 20px;\n}\n\n</style>\n","import { render } from \"./MaybeCreateButton.vue?vue&type=template&id=43c89fdb\"\nimport script from \"./MaybeCreateButton.vue?vue&type=script&lang=js\"\nexport * from \"./MaybeCreateButton.vue?vue&type=script&lang=js\"\n\nimport \"./MaybeCreateButton.vue?vue&type=style&index=0&id=43c89fdb&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["___CSS_LOADER_EXPORT___","push","module","id","content","__esModule","default","locals","exports","add","class","$options","showCreateFromTemplate","_createElementBlock","_hoisted_1","_createVNode","_component_router_link","to","createFromTemplateRoute","_cache","name","fetch","isClusterScoped","this","$route","params","cluster","steveStore","currentTypeSchema","$store","dispatch","type","currentType","canCreate","collectionMethods","find","x","toLowerCase","templateSchema","templates","data","computed","resource","hasTemplates","t","targetTypes","includes","path","fullPath","__exports__","render"],"ignoreList":[],"sourceRoot":""}